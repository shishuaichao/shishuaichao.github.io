<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>计算血型函数</title>
</head>

<body>
    父亲血型
    <select id="male">
        <option value="a">A</option>
        <option value="b">B</option>
        <option value="ab">AB</option>
        <option value="o">O</option>
    </select> 母亲血型
    <select id="female">
        <option value="a">A</option>
        <option value="b">B</option>
        <option value="ab">AB</option>
        <option value="o">O</option>
    </select>
    <button id="btn">测试</button>
    <hr> 孩子可能出现的血型
    <p id="child"></p>
</body>
<script>
    var fa = document.getElementById('male');
    var ma = document.getElementById('female');
    var btn = document.getElementById('btn');
    var child = document.getElementById('child');

    btn.onclick = function () {
        var arr = calc(fa.value, ma.value);
        var str = arr.join('--');
        child.innerText = str;
    }

</script>
<script>
    function calc(fa, ma) {
        switch (fa) {
            case 'a':
                fa = 'ao';
                break;
            case 'b':
                fa = 'bo';
                break;
            case 'o':
                fa = 'oo';
        }
        switch (ma) {
            case 'a':
                ma = 'ao';
                break;
            case 'b':
                ma = 'bo';
                break;
            case 'o':
                ma = 'oo';
        }
        console.log(fa, ma);
        var arr = pailie(fa, ma);
        console.log(arr);
        var arr2 = resize(arr);
        console.log(arr2);
        var arr3 = quchong(arr2);
        console.log(arr3);
        return arr3;
    }
    // 排列函数
    function pailie(fa, ma) {
        var arr = [];
        arr.push(fa[0] + ma[0]);
        arr.push(fa[0] + ma[1]);
        arr.push(fa[1] + ma[0]);
        arr.push(fa[1] + ma[1]);
        return arr;
    }
    // // 输出子代类型数组
    // function resize(arr) {
    //     var arr2 = [];
    //     arr.forEach(function(e) {
    // if (e == 'ab' || e == 'ba') {
    //     arr2.push('AB');
    //     // continue;  //这里不能用
    // }
    // if (e[0] == 'a') {
    //     arr2.push('A');
    //     // continue;
    // }
    // if (e[0] == 'b') {
    //     arr2.push('B');
    //     // continue;
    // }
    //     if (e[0] == 'o') {
    //         arr2.push(e[1].toUpperCase());
    //     }
    // })
    // return arr2;
    // }
    function resize(e) {
        var arr2 = [];
        for (var i = 0; i < e.length; i++) {
            if (e[i] == 'ab' || e[i] == 'ba') {
                arr2.push('AB');
                continue;
            }
            if (e[i][0] == 'a') {
                arr2.push('A');
                continue;
            }
            if (e[i][0] == 'b') {
                arr2.push('B');
                continue;
            }
            if (e[i][0] == 'o') {
                arr2.push(e[i][1].toUpperCase());
            }           
        }
        return arr2;
    }
    // 去重函数
    function quchong(arr) {
        var s = new Set(arr);
        var arr2 = [];
        s.forEach(function (e) {
            arr2.push(e);
        });
        return arr2;
    }

</script>

</html>